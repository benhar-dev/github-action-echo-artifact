name: Combined Action Workflow
on: [push, pull_request] # or any other event you want to trigger the workflow

jobs:
  build-and-echo:
    runs-on: windows-latest
    steps:
      # Checkout your repository
      - name: Checkout
        uses: actions/checkout@v2

      # Run Helloworld Action
      - name: Run PowerShell Project Action
        uses: benhar-dev/github-action-helloworld@v1
        with:
          projectName: "Your Project Name"
          simulateFail: "false"

      # Upload Artifact
      # This step assumes that 'artifact.txt' is created in the root directory of your workspace
      - name: Upload Artifact
        uses: actions/upload-artifact@v2
        with:
          name: helloworld-artifact
          path: artifact.txt # this is the artifact file generated by Helloworld Action

      # Run Dependent Action
      # Ensure that the path matches the location where 'artifact.txt' is generated
      - name: Echo Artifact
        uses: benhar-dev/github-action-echo-artifact@v1
        with:
          artifactPath: artifact.txt # path to the artifact created by Helloworld Action

      # Download Artifact (optional)
      # This step can be used if you need the artifact for subsequent steps in the workflow
      - name: Download Artifact
        uses: actions/download-artifact@v2
        with:
          name: helloworld-artifact
